services:
  app:
    build:
      context: .
      target: runtime
    volumes:
      - ./src:/app/src
      - ./curriculum:/app/curriculum
      - ./alembic:/app/alembic
      - ./alembic.ini:/app/alembic.ini
    command: >
      uvicorn instructor.main:app
      --host 0.0.0.0
      --port 8000
      --reload
      --reload-dir /app/src
    environment:
      - PYTHONPATH=/app/src
